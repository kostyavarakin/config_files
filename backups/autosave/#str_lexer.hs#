

-- data types

type Token = (SourcePos, Tok)

data Tok = StringTok String String --delim, value (delim will one of
                                   --', $$, $[stuff]$
         | IdStringTok String --includes . and x.y.* type stuff
         | SymbolTok String -- operators, and ()[],;:
                            -- '*' is currently always lexed as an id
                            --   rather than an operator
                            -- this gets fixed in the parsing stage
         | PositionalArgTok Integer -- used for $1, etc.
         | FloatTok Double
         | IntegerTok Integer
         | CopyPayloadTok String -- support copy from stdin; with inline data
           deriving (Eq,Show)

type LexState = [Tok]

