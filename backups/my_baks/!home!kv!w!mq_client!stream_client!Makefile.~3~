
COMPILER = gcc
COMPILE_FLAGS = -c -g -O2 -Wall
LINKER_FLAGS = -Lrabbitmq -lrabbitmq

ECHO = /bin/echo

utils.o: utils.c utils.h
	@${ECHO} "Compiling utils.o"
	${COMPILER} ${COMPILE_FLAGS} utils.c

client.o: client.c
	@${ECHO} "Compiling client.o"
	${COMPILER} ${COMPILE_FLAGS} client.c

all: client.o utils.o
	@${ECHO} "Compiling all for execution"
	${COMPILER} ${LINKER_FLAGS} client.o utils.o -o client

debug: client.o utils.o
	@${ECHO} "Compiling all for debugging"
	${COMPILER} ${LINKER_FLAGS} -ggdb client.o utils.o -o client

clean:
	@${ECHO} "Cleaning"
	rm -rf *.o
